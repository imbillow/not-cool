import org.jetbrains.grammarkit.tasks.GenerateLexer

sourceSets {
    main {
        java.srcDirs = ["."]
    }
}

task grading(type: Exec) {
    //workingDir '.'
    commandLine 'perl', 'pa1-grading.pl'
    //args '', ''
    //store the output instead of printing to the console:
    standardOutput = new ByteArrayOutputStream()

    //extension method stopTomcat.output() can be used to obtain the output:
    ext.output = {
        return standardOutput.toString()
    }
}

task generateLexer(type: GenerateLexer) {
    // source flex file
    source = "cool.lex"

    // target directory for lexer
    targetDir = "./"

    // target classname, target file will be targetDir/targetClass.java
    targetClass = "CoolLexer"

    // optional, path to the task-specific skeleton file. Default: none
    // skeleton = "/some/specific/skeleton"

    // if set, plugin will remove a lexer output file before generating new one. Default: false
    purgeOldFiles = true
}
